<!doctype html>

<html lang="sv">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Vädret med API från YR.no</title>
  <meta name="description" content="Vädret med API från YR.no">
  <meta name="author" content="SitePoint">

  <meta property="og:title" content="Vädret med API från YR.no">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.sitepoint.com/a-basic-html5-template/">
  <meta property="og:description" content="Vädret med API från YR.no">
  <meta property="og:image" content="image.png">

  <!--
  <link rel="icon" href="/favicon.ico">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="css/site.css">


</head>

<body>
  <!-- your content here... -->
  <div id="container">
    <div id="" class="container-fluid">
      <aside>
        <div class="row">
          <div class="col col-xs-4">
            <h4>Datum</h4>
            <p id="solDatum"></p>
            <div></div>
          </div>
          <div class="col col-xs-4">
            <h4>Solen går upp</h4>
            <p id="solUpp"></p>
            <div id="solUppImg"></div>
          </div>
          <div class="col col-xs-4">
            <h4>Solen går ner</h4>
            <p id="solNer"></p>
            <div id="solNerImg"></div>
          </div>
        </div>
      </aside>
      <h1>Vädersidan</h1>
      <div id="meta">
        <div class="row">
          <div class="col col-xs-3">Plats: </div>
          <div class="col col-xs-3">Haga</div>
          <div class="col col-xs-6"></div>
        </div>
        <div class="row">
          <div class="col col-xs-3">Latitud: </div>
          <div id="lat" class="col col-xs-3"></div>
          <div class="col col-xs-6"></div>
        </div>
        <div class="row">
          <div class="col col-xs-3">Longitud: </div>
          <div id="long" class="col col-xs-3"></div>
          <div class="col col-xs-6"></div>
        </div>
        <div class="row">
          <div class="col col-xs-3">Höjd: </div>
          <div id="height" class="col col-xs-3"></div>
          <div class="col col-xs-6"></div>
        </div>
      </div>
      <div class="row">
        <div class="col col-xs-4">Uppdaterad: </div>
        <div class="col col-xs-2" id="updated"></div>
        <div class="col col-xs-4"></div>
      </div>
      <div class="row">
        <div class="col col-xs-4">Datum för prognos: </div>
        <div class="col col-xs-2" id="datum"></div>
        <div class="col col-xs-4"></div>
      </div>
     
      <div>
          <label for="prognosTime">Välj tid för prognos</label>
          <select id="prognosTime">
              <option value="0">Nu</option>
              <option value="1">En timma</option>
              <option value="2">Två timmar</option>
              <option value="3">Tre timmar</option>
          </select>
          <button id="btn" class="btn btn-info btn-sm">Välj</button>
          </div> 
          <div class="row">
              <div class="col col-xs-4">Tid för prognos: </div>
              <div class="col col-xs-2" id="tid"></div>
              <div class="col col-xs-6"></div>
          </div>
      </div>
      
      <!-- Testtabell -->
      <div>
        <h4>Nytt sätt att lägga in värden</h4>
        <table class="table caption-top">
          <caption>Väderdata</caption>
          <tr>
            <th>Typ</th>
            <th>Engelsk</th>
            <th>Data</th>
            <th>Enhet</th>
            <th>Info</th>
          </tr>
          <tr>
            <td>Lufttryck</td>
            <td></td>
            <td id="air_pressure_at_sea_level"></td>
            <td>hPa</td>
            <td></td>
          </tr>
          <tr>
            <td>Temperatur</td>
            <td></td>
            <td id="air_temperature" class="align-right"></td>
            <td>celsius</td>
            <td></td>
          </tr>
          <tr>
            <td>Nederbörd</td>
            <td></td>
            <td id="precipitation_amount"></td>
            <td>mm</td>
            <td></td>
          </tr>
          <tr>
            <td>Luftfuktighet</td>
            <td></td>
            <td id="relative_humidity"></td>
            <td>%</td>
            <td></td>
          </tr>
          <tr>
            <td>Vindriktning</td>
            <td></td>
            <td id="wind_from_direction"></td>
            <td>grader</td>
            <td id="riktning"></td>
          </tr>
          <tr>
            <td>Vind</td>
            <td></td>
            <td id="wind_speed" class="float-right"></td>
            <td>m/s</td>
            <td></td>
          </tr>
          <tr>
            <td>Högsta temp</td>
            <td></td>
            <td id="hTemp2"></td>
            <td>celsius</td>
            <td>kommande 24 timmar</td>
          </tr>
          <tr>
            <td>Lägsta temp</td>
            <td></td>
            <td id="lTemp2"></td>
            <td>celsius</td>
            <td>kommande 24 timmar</td>
          </tr>

        </table>
      </div>
   
        <div class="row">
          <h3>Väderutsikter</h3>
          <div class="col col-xs-4">
            <h4>närmsta timman</h4>
            <p>Uppskattad regnmängd:</p>
            <p id="prognos_1h"></p>
            <div id="bild_1h"></div>
          </div>
          <div class="col col-xs-4">
            <h4>om 6 timmar</h4>
            <p>Uppskattad regnmängd:</p>
            <p id="prognos_6h"></p>
            <div id="bild_6h"></div>
          </div>
          <div class="col col-xs-4">
            <h4>om 12 timmar</h4>
            <p>&nbsp;</p>
            <p>&nbsp;</p>
            <div id="bild_12h"></div>
          </div>
        </div>
        <div><a href="index.html">Till vanliga tabellen</a></div>
        <div><a href="test2.html">Till test2tabellen</a></div>
      </div>
      <footer>Väderdata från yr.no, 2021</footer>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <script type="text/javascript" src="javascript/test.js"></script>
  
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

  <script type="text/javascript">

  </script>

  <script type="text/javascript">
    $(document).ready(function () {
    $('#prognosTime').change(function() {
            let selectedOption = $(this).val();
            console.log(selectedOption); //verify you have the value
            $.ajax({
                  // type: "POST",
                  // url: "codebehind.aspx/GetListItems",
                  // data: JSON.stringify({ value: selectionOption }),
                  contentType: "application/json; charset=utf-8",
                  dataType: "json"
                }).success(function (data) {
                    console.log(data);  //verify the format of the return data
                    obj = JSON.parse(data.d);
                    console.log(obj); //verify obj structure
                });
    });
});
  </script>

  <script>
    /*
            var loadFile = function(event) {
            //var file = document.file("json/haga_121021.json");
            var file = "json/haga_121021.json";
            file.src = URL.createObjectURL(event.target.file);
            };

  var json = "";
  json = JSON.stringify(loadFile);
  var parsed_obj = JSON.parse(json);
  console.log(parsed_obj);  */ // output 'testing'
    /* let myRequest = new Request('json/haga_121021.json');
    console.log(myRequest);
    fetch(myRequest)
    .then(function(response) {
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }
      return response.blob();
    })
    //.then(response => json = response.json());
    .then(function(response) {
        json = JSON.stringify(response);

      //let objectURL = URL.createObjectURL(response);
      //myJSON.src = objectURL;

    });
    console.log(json); // output 'testing' */
    // var parsed_obj = JSON.parse(json);
    // console.log(parsed_obj); // output 'testing'
  </script>

  <!-- <script>
      var json = [];
    fetch('./json/haga_121021.json').then(response => json = response.json());
    var my_json = JSON.stringify(json);
    var parsed_obj = JSON.parse(my_json);
    console.log(parsed_obj); // output 'testing'
</script> -->

</body>

</html>
